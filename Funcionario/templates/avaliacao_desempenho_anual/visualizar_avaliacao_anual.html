{% extends 'base.html' %}

{% block title %}Visualizar Avaliação Anual{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Visualizar Avaliação Anual</h2>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Dados da Avaliação</h5>
            <p><strong>Funcionário:</strong> {{ avaliacao.funcionario.nome }}</p>
            <p><strong>Data da Avaliação:</strong> {{ avaliacao.data_avaliacao|date:"d/m/Y" }}</p>
            <p><strong>Centro de Custo:</strong> {{ avaliacao.centro_custo }}</p>
            <p><strong>Departamento:</strong> {{ avaliacao.funcionario.local_trabalho }}</p>
            <p><strong>Classificação:</strong>
                {% if avaliacao.calcular_classificacao == 'Ruim' %}
                    <span class="badge bg-danger">{{ avaliacao.calcular_classificacao }}</span>
                {% elif avaliacao.calcular_classificacao == 'Regular' %}
                    <span class="badge bg-warning text-dark">{{ avaliacao.calcular_classificacao }}</span>
                {% elif avaliacao.calcular_classificacao == 'Bom' %}
                    <span class="badge bg-primary">{{ avaliacao.calcular_classificacao }}</span>
                {% elif avaliacao.calcular_classificacao == 'Ótimo' %}
                    <span class="badge bg-success">{{ avaliacao.calcular_classificacao }}</span>
                {% else %}
                    <span class="badge bg-secondary">Indeterminado</span>
                {% endif %}
            </p>
        </div>
    </div>

    <h5 class="mt-4">Resultados da Avaliação</h5>
    <ul class="list-group mb-4">
        <li class="list-group-item">
            <strong>Postura em Segurança do Trabalho:</strong> {{ avaliacao.postura_seg_trabalho }}
        </li>
        <li class="list-group-item">
            <strong>Qualidade e Produtividade:</strong> {{ avaliacao.qualidade_produtividade }}
        </li>
        <li class="list-group-item">
            <strong>Trabalho em Equipe:</strong> {{ avaliacao.trabalho_em_equipe }}
        </li>
        <li class="list-group-item">
            <strong>Comprometimento:</strong> {{ avaliacao.comprometimento }}
        </li>
        <li class="list-group-item">
            <strong>Disponibilidade para Mudanças:</strong> {{ avaliacao.disponibilidade_para_mudancas }}
        </li>
        <li class="list-group-item">
            <strong>Disciplina:</strong> {{ avaliacao.disciplina }}
        </li>
        <li class="list-group-item">
            <strong>Rendimento sob Pressão:</strong> {{ avaliacao.rendimento_sob_pressao }}
        </li>
        <li class="list-group-item">
            <strong>Proatividade:</strong> {{ avaliacao.proatividade }}
        </li>
        <li class="list-group-item">
            <strong>Comunicação:</strong> {{ avaliacao.comunicacao }}
        </li>
        <li class="list-group-item">
            <strong>Assiduidade:</strong> {{ avaliacao.assiduidade }}
        </li>
    </ul>

    <h5>Avaliação Global</h5>
    <div class="mb-4">
        <strong>Visão do Avaliador:</strong>
        <p>{{ avaliacao.avaliacao_global_avaliador }}</p>
    </div>
    <div class="mb-4">
        <strong>Visão do Avaliado:</strong>
        <p>{{ avaliacao.avaliacao_global_avaliado }}</p>
    </div>

    <div class="text-end">
        <a href="{% url 'editar_avaliacao_anual' avaliacao.id %}" class="btn btn-warning">Editar Avaliação</a>
        <a href="{% url 'lista_avaliacao_anual' %}" class="btn btn-secondary">Voltar</a>
    </div>
</div>
{% endblock %}
