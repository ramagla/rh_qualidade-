{% extends 'base.html' %}

{% block title %}Visualiza칞칚o da Avalia칞칚o de Treinamentos{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white text-center">
            <h2 class="mb-0">Visualiza칞칚o da Avalia칞칚o de Treinamentos</h2>
        </div>
        <div class="card-body">
            <!-- Dados da Avalia칞칚o -->
            <h5 class="text-primary mb-3">Informa칞칫es Gerais</h5>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label text-muted">Data da Avalia칞칚o</label>
                    <p class="fw-bold">{{ avaliacao.data_avaliacao|date:"d/m/Y" }}</p>
                </div>
                <div class="col-md-6">
                    <label class="form-label text-muted">Per칤odo da Avalia칞칚o (em dias)</label>
                    <p class="fw-bold">{{ avaliacao.periodo_avaliacao }}</p>
                </div>
                <div class="col-md-6">
                    <label class="form-label text-muted">Colaborador Avaliado</label>
                    <p class="fw-bold">{{ avaliacao.funcionario.nome }}</p>
                </div>
               <div class="col-md-6">
                    <label class="form-label text-muted">Treinamento/Curso</label>
                    {% if avaliacao.treinamento %}
                        <p class="fw-bold">{{ avaliacao.treinamento.nome_curso }}</p>
                    {% else %}
                        <p class="fw-bold text-muted">Treinamento n칚o associado</p>
                    {% endif %}
                </div>
            </div>

            <!-- Respons치veis -->
            <h5 class="text-primary mb-3">Respons치veis pela Avalia칞칚o</h5>
            <div class="row mb-3">
                {% if avaliacao.responsavel_1 %}
                <div class="col-md-6">
                    <label class="form-label text-muted">Primeiro Respons치vel</label>
                    <p class="fw-bold">{{ avaliacao.responsavel_1.nome }}</p>
                </div>
                <div class="col-md-6">
                    <label class="form-label text-muted">Cargo</label>
                    <p class="fw-bold">{{ avaliacao.responsavel_1.cargo_atual.nome }}</p>
                </div>
                {% endif %}
                {% if avaliacao.responsavel_2 %}
                <div class="col-md-6">
                    <label class="form-label text-muted">Segundo Respons치vel</label>
                    <p class="fw-bold">{{ avaliacao.responsavel_2.nome }}</p>
                </div>
                <div class="col-md-6">
                    <label class="form-label text-muted">Cargo</label>
                    <p class="fw-bold">{{ avaliacao.responsavel_2.cargo_atual.nome }}</p>
                </div>
                {% endif %}
                {% if avaliacao.responsavel_3 %}
                <div class="col-md-6">
                    <label class="form-label text-muted">Terceiro Respons치vel</label>
                    <p class="fw-bold">{{ avaliacao.responsavel_3.nome }}</p>
                </div>
                <div class="col-md-6">
                    <label class="form-label text-muted">Cargo</label>
                    <p class="fw-bold">{{ avaliacao.responsavel_3.cargo_atual.nome }}</p>
                </div>
                {% endif %}
            </div>

            <!-- Question치rios -->
            <h5 class="text-primary mb-3">Resultados da Avalia칞칚o</h5>
            <div class="row mb-3">
                <div class="col-12">
                    <label class="form-label text-muted">I - Grau de conhecimento atual dos participantes da metodologia:</label>
                    <p class="fw-bold">{{ grau_conhecimento }}</p>
                </div>
                <div class="col-12">
                    <label class="form-label text-muted">II - Aplica칞칚o dos conceitos da metodologia:</label>
                    <p class="fw-bold">{{ aplicacao_conceitos }}</p>
                </div>
                <div class="col-12">
                    <label class="form-label text-muted">III - Resultados obtidos com a aplica칞칚o da metodologia:</label>
                    <p class="fw-bold">{{ resultados_obtidos }}</p>
                </div>
                <div class="col-12">
                    <label class="form-label text-muted">Descri칞칚o de Melhorias</label>
                    <div class="border p-3 rounded bg-light" style="white-space: pre-line;">{{ melhorias|safe }}</div>
                </div>
            </div>

            <!-- Avalia칞칚o Geral -->
            <h5 class="text-primary mb-3">Avalia칞칚o Geral</h5>
            <div class="row">
                <div class="col-12">
                    <div class="alert {{ avaliacao.avaliacao_geral_class }} text-center" role="alert">
                        <h4 class="alert-heading">
                            {{ avaliacao_geral }}
                            {% if avaliacao_geral == "Pouco Eficaz" %}
                                游땞
                            {% elif avaliacao_geral == "Eficaz" %}
                                游뗵
                            {% elif avaliacao_geral == "Muito Eficaz" %}
                                游땎
                            {% endif %}
                        </h4>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bot칚o de Voltar -->
        <div class="card-footer text-center">
            <a href="{% url 'lista_avaliacoes' %}" class="btn btn-secondary">
                <i class="bi bi-arrow-left-circle"></i> Voltar
            </a>
        </div>
    </div>
</div>
{% endblock %}
